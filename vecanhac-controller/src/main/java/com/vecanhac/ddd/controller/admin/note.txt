ğŸ” 1. PhÃ¢n quyá»n
Sá»­ dá»¥ng UserRole vá»›i ADMIN

Táº¥t cáº£ API admin/** Ä‘á»u yÃªu cáº§u @PreAuthorize("hasRole('ADMIN')")

UserPrincipal Ä‘Ã£ cung cáº¥p ROLE_ADMIN qua SimpleGrantedAuthority

ğŸ›  2. CÃ¡c module chÃ­nh cho Admin
ğŸ“ 2.1. Quáº£n lÃ½ sá»± kiá»‡n (Moderate Events)
Duyá»‡t / tá»« chá»‘i sá»± kiá»‡n má»›i (status = PENDING)

Xem danh sÃ¡ch sá»± kiá»‡n theo status

ğŸ“Œ API:

bash
Copy
Edit
GET    /api/admin/events?status=PENDING
PATCH  /api/admin/events/{id}/approve
PATCH  /api/admin/events/{id}/reject
ğŸ‘¤ 2.2. Quáº£n lÃ½ ngÆ°á»i dÃ¹ng (Users)
Xem danh sÃ¡ch toÃ n bá»™ tÃ i khoáº£n

Lá»c theo vai trÃ² USER, ORG, ADMIN

NÃ¢ng cáº¥p vai trÃ² (USER â†’ ORG)

KhÃ³a tÃ i khoáº£n vi pháº¡m

ğŸ“Œ API:

bash
Copy
Edit
GET    /api/admin/users
PATCH  /api/admin/users/{id}/upgrade-role
PATCH  /api/admin/users/{id}/lock
ğŸ“Š 2.3. Thá»‘ng kÃª há»‡ thá»‘ng (System Stats)
Tá»•ng sá»‘ ngÆ°á»i dÃ¹ng / sá»± kiá»‡n / Ä‘Æ¡n hÃ ng / vÃ© bÃ¡n

Doanh thu theo ngÃ y / thÃ¡ng

Biá»ƒu Ä‘á»“ tráº¡ng thÃ¡i sá»± kiá»‡n

ğŸ“Œ API:

pgsql
Copy
Edit
GET /api/admin/stats
GET /api/admin/stats/revenue?range=month
ğŸŸ 2.4. Quáº£n lÃ½ mÃ£ giáº£m giÃ¡ (Coupons)
Táº¡o, sá»­a, xÃ³a mÃ£ giáº£m giÃ¡

GÃ¡n mÃ£ theo eventId, giá»›i háº¡n lÆ°á»£t dÃ¹ng

ğŸ“Œ API:

bash
Copy
Edit
GET     /api/admin/coupons
POST    /api/admin/coupons
PUT     /api/admin/coupons/{id}
DELETE  /api/admin/coupons/{id}
ğŸ—‚ 2.5. Quáº£n lÃ½ danh má»¥c / Ä‘á»‹a Ä‘iá»ƒm
ThÃªm / xoÃ¡ danh má»¥c sá»± kiá»‡n

Hiá»ƒn thá»‹ danh sÃ¡ch tá»‰nh thÃ nh (Ä‘Ã£ cÃ³ sáºµn dá»¯ liá»‡u)

ğŸ“Œ API:

pgsql
Copy
Edit
GET  /api/admin/locations
POST /api/admin/categories
ğŸ§± 3. Kiáº¿n trÃºc code DDD (Spring Boot)
Controller: AdminEventController, AdminUserController, ...

Application: AdminEventService, AdminStatsService, ...

DTO: AdminApproveEventDTO, AdminUserSummaryDTO, ...

ğŸ§ª 4. Gá»£i Ã½ triá»ƒn khai Ä‘áº§u tiÃªn
Æ¯u tiÃªn lÃ m module Moderate Event trÆ°á»›c vÃ¬:

Gáº¯n liá»n vá»›i flow tá»• chá»©c (ORG) táº¡o sá»± kiá»‡n

ÄÆ¡n giáº£n, dá»… test UI (chá»‰ cáº§n danh sÃ¡ch + 2 nÃºt duyá»‡t / tá»« chá»‘i)

